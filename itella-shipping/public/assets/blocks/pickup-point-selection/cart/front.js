(()=>{"use strict";const e=window.wc.blocksCheckout,t=window.React,i=window.wp.element,o=window.wp.data,p=window.wp.i18n,s={block_options:(0,p.__)("Block options","itella-shipping"),pickup_block_title:(0,p.__)("Pickup point","itella-shipping"),pickup_select_field_default:(0,p.__)("Select a pickup point","itella-shipping"),cart_pickup_info:(0,p.__)("You can choose the pickup point on the Checkout page","itella-shipping"),checkout_pickup_info:(0,p.__)("Choose one of pickup points close to the address you entered","itella-shipping"),pickup_error:(0,p.__)("Please choose a pickup point","itella-shipping")},a={id:"itella-shipping",pickup_methods_keys:["pickup_point"]},n=JSON.parse('{"apiVersion":2,"name":"itella-shipping/pickup-point-selection-cart","version":"0.0.1","title":"Smartpost pickup point information","category":"woocommerce","description":"Allow to add components for Smartpost shipping method on Cart page","parent":["woocommerce/cart-order-summary-block"],"supports":{"html":false,"align":false,"multiple":false,"reusable":false,"lock":false},"attributes":{"lock":{"type":"object","default":{"remove":false,"move":false}}},"textdomain":"itella-shipping"}');(0,e.registerCheckoutBlock)({metadata:n,component:({className:e})=>{const[p,n]=(0,i.useState)(!1),[l,c]=(0,i.useState)([]),[r,u]=(0,i.useState)(""),[h,_]=(0,i.useState)(!1),m=(0,o.useSelect)((e=>e("wc/store/cart").getCartData().shippingRates));return(0,i.useEffect)((()=>{m.length&&c((e=>{if(!e.length)return[];let t=[];for(let i=0;i<e.length;i++)if(e[i].shipping_rates)for(let o=0;o<e[i].shipping_rates.length;o++)e[i].shipping_rates[o].rate_id&&t.push(e[i].shipping_rates[o]);return t})(m))}),[m]),(0,i.useEffect)((()=>{if(l.length)for(let e=0;e<l.length;e++)l[e].selected&&r!=l[e].rate_id&&u(l[e].rate_id)}),[l]),(0,i.useEffect)((()=>{""!=r.trim()&&(((e,t=!1)=>{let i=wcSettings&&wcSettings["itella-shipping-blocks_data"]?wcSettings["itella-shipping-blocks_data"]:{};if("methods"in i)for(let o in i.methods)if(i.methods[o]==e&&(!t||t&&a.pickup_methods_keys.includes(o)))return!0;return!1})(r,!0)?_(!0):_(!1))}),[r]),h?(0,t.createElement)("div",{className:"wc-block-components-totals-wrapper"},(0,t.createElement)("span",{className:"wc-block-components-totals-item"},s.cart_pickup_info)):(0,t.createElement)(t.Fragment,null)}})})();